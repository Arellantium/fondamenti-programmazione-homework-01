# -*- coding: utf-8 -*-

''' 
Abbiamo una stringa int_seq contenente una sequenza di interi non-negativi
  separati da virgole ed un intero positivo subtotal.

Progettare una funzione ex1(int_seq, subtotal) che
    riceve come argomenti la stringa int_seq e l'intero subtotal e
    restituisce il numero di sottostringhe di int_seq
    la somma dei cui valori è subtotal.

Ad esempio, per int_seq='3,0,4,0,3,1,0,1,0,1,0,0,5,0,4,2' e subtotal=9,
    la funzione deve restituire 7.

Infatti:
'3,0,4,0,3,1,0,1,0,1,0,0,5,0,4,2'
 _'0,4,0,3,1,0,1,0'_____________
 _'0,4,0,3,1,0,1'_______________
 ___'4,0,3,1,0,1,0'_____________
____'4,0,3,1,0,1'_______________
____________________'0,0,5,0,4'_
______________________'0,5,0,4'_
 _______________________'5,0,4'_

NOTA: è VIETATO usare/importare ogni altra libreria a parte quelle già presenti

NOTA: il timeout previsto per questo esercizio è di 1 secondo per ciascun test (sulla VM)

ATTENZIONE: quando caricate il file assicuratevi che sia nella codifica UTF8
    (ad esempio editatelo dentro Spyder)
'''
import time

def ex1(int_seq, subtotal):
    
    numbers = [eval(x) for x in int_seq.split(',')]
    result = 0
    fine_lista = False

    while fine_lista == False:
        sum_substring = 0
        indice_lista = 0

        for x in numbers:
            sum_substring += x

            if sum_substring == subtotal:
                result += 1
                while indice_lista + 1 < len(numbers) and numbers[indice_lista+1] == 0:
                    result += 1
                    indice_lista += 1

                numbers.pop(0)
                break  
            elif sum_substring > subtotal:
                numbers.pop(0)
                break
            
            if len(numbers)-1 == indice_lista:
                fine_lista = True
                break

            indice_lista += 1
    return result
    
if __name__ == '__main__':

    st = time.time()

    int_seq = "0,166,0,424,613,0,0,0,692,86,460,567,254,0,236,223,472,462,385,579,0,535,523,68,685,0,0,249,451,0,0,0,0,897,0,901,0,311,0,0,268,581,0,0,0,308,0,160,148,653,741,0,441,182,979,0,889,684,0,0,0,739,996,648,3,0,0,616,0,556,859,0,0,361,0,0,871,0,0,0,0,0,0,792,0,728,0,118,0,279,0,0,0,0,550,0,538,0,0,0,678,658,347,0,546,854,445,739,392,0,0,893,0,0,0,933,892,489,886,21,616,0,0,0,586,622,0,0,414,0,0,897,866,0,0,104,641,426,267,0,0,936,486,0,0,243,0,0,486,0,766,0,0,695,0,766,270,408,0,727,562,331,750,0,0,130,0,0,295,422,761,0,0,720,0,71,0,239,168,701,0,0,785,406,795,952,0,0,0,944,544,0,721,80,970,177,26,803,219,478,563,828,166,0,0,0,376,0,0,122,0,841,0,252,14,0,642,143,242,0,0,834,782,0,5,258,0,425,0,0,786,575,0,986,0,0,785,0,94,294,586,358,0,887,846,0,0,0,0,0,868,0,0,306,411,318,14,522,41,106,568,0,0,0,0,561,0,484,375,41,0,629,436,0,0,0,0,960,0,931,647,524,357,870,0,467,547,895,91,0,0,0,0,0,284,0,940,0,0,0,493,39,0,940,0,188,0,673,0,962,525,86,539,0,982,620,0,0,0,53,0,0,0,281,186,0,766,0,0,0,64,253,531,0,0,0,920,875,0,227,0,0,0,937,0,0,0,413,0,0,194,0,0,0,736,510,0,562,830,0,796,0,0,757,0,0,0,100,0,0,726,0,0,0,206,345,952,754,999,717,200,0,16,790,0,910,445,0,0,137,913,718,983,565,0,0,0,978,0,0,0,0,954,515,0,0,0,0,539,0,0,967,0,0,0,0,0,0,66,222,0,943,0,0,489,0,28,0,0,0,0,924,0,0,195,72,319,128,163,950,503,0,474,0,809,127,162,488,0,0,0,0,254,0,0,839,0,0,0,41,0,0,0,0,0,310,873,0,262,0,0,0,0,585,578,683,829,0,171,0,730,0,71,998,0,0,0,329,963,528,362,0,722,0,0,0,0,0,418,0,0,694,0,0,894,701,340,0,74,557,0,0,0,444,0,35,394,0,0,835,209,0,996,287,597,208,117,0,0,0,476,75,0,229,819,639,556,0,886,703,0,171,334,0,0,0,83,0,0,0,0,0,342,0,522,0,0,873,83,901,0,0,0,164,893,938,0,566,0,0,200,433,0,0,0,532,490,0,923,0,0,383,374,0,544,0,135,0,0,551,657,34,0,43,0,634,859,0,0,0,206,467,0,853,440,0,0,898,263,0,774,0,207,0,28,325,0,490,174,570,0,17,0,816,0,891,874,0,982,0,790,0,0,732,0,809,358,0,646,782,302,0,933,0,336,0,552,448,6,0,0,956,0,0,0,0,909,221,0,0,752,0,0,0,70,0,0,280,0,315,946,656,0,419,0,0,0,779,625,831,0,0,453,0,0,932,0,0,0,195,0,0,0,0,0,0,0,0,0,721,0,0,411,0,0,691,0,9,0,98,0,19,0,0,0,441,0,7,0,0,707,0,975,0,0,408,0,0,0,0,0,891,0,508,785,302,0,974,0,974,80,0,613,135,0,290,758,0,317,111,794,983,957,0,741,0,0,0,707,451,371,0,0,0,0,0,0,720,882,0,0,0,939,0,0,43,0,288,958,422,0,0,0,0,0,977,0,0,826,0,901,0,0,0,0,35,515,0,0,90,0,0,116,0,0,0,0,441,662,344,29,794,631,0,997,0,812,888,0,0,179,0,0,0,545,878,682,829,3,0,941,449,206,2,414,959,0,0,150,0,0,0,0,0,49,323,341,0,0,438,335,0,0,0,997,0,0,0,788,0,585,0,0,0,473,194,388,0,472,721,0,255,0,0,156,0,501,100,295,0,476,103,595,951,382,0,0,611,0,192,273,0,0,0,0,0,681,0,600,459,0,0,939,0,0,0,0,0,800,364,597,631,653,446,215,0,176,0,0,216,912,429,881,0,0,0,7,24,253,116,0,0,0,0,0,0,0,662,585,113,401,447,984,0,157,13,0,0,0,883,660,0,0,0,0,0,734,0,6,843,631,787,225,0,502,0,0,759,0,408,0,0,0,0,0,0,309,514,0,537,479,0,8,0,266,292,492,267,0,32,0,0,74,0,175,62,352,0,708,0,0,0,469,0,392,212,0,0,0,435,0,0,0,692,0,0,810,0,0,0,944,0,0,0,0,18,0,0,263,0,0,473,0,854,991,0,0,0,314,0,823,0,871,708,0,0,0,103,0,0,659,0,0,0,114,47,0,855,0,0,0,845,0,0,0,560,286,0,0,994,963,725,0,587,142,0,867,0,459,219,898,617,0,214,323,0,0,0,720,0,0,0,762,0,448,713,988,0,31,856,448,0,234,0,380,113,786,408,0,0,186,0,0,0,159,71,263,730,818,0,0,0,0,0,0,742,0,0,0,0,0,0,939,0,0,0,368,241,0,868,0,0,0,0,974,0,200,982,0,832,799,152,606,800,839,493,0,0,865,0,695,269,0,0,0,0,0,0,0,603,0,149,167,664,0,999,45,0,830,759,309,0,784,153,567,29,502,156,916,7,158,0,0,0,922,0,450,191,0,314,0,0,557,0,252,411,632,566,0,0,97,0,185,250,406,0,0,414,386,0,255,920,0,0,733,12,584,0,150,0,0,175,626,206,361,0,285,82,0,457,0,870,0,502,349,0,0,0,811,409,0,0,429,0,168,0,703,497,796,0,349,475,0,860,0,0,628,0,449,91,635,0,82,180,89,64,0,51,1000,545,58,0,0,0,638,624,0,965,0,818,8,994,0,0,202,0,177,0,527,709,971,0,0,829,228,0,0,0,350,918,0,490,0,0,0,0,152,420,425,807,0,0,0,418,74,619,536,510,0,921,0,0,571,578,855,330,0,0,113,733,32,0,333,0,738,355,0,209,0,499,15,0,552,0,230,0,591,0,0,329,990,0,132,0,0,485,226,0,585,508,150,785,554,242,253,0,0,0,0,0,0,0,0,0,942,0,612,0,0,33,0,765,653,0,0,0,108,0,0,771,513,0,0,646,635,0,0,0,843,559,0,96,763,580,0,439,314,285,246,242,235,51,0,0,895,545,0,64,776,0,757,158,656,992,648,189,0,0,959,0,538,442,0,0,907,72,0,849,0,744,339,0,0,467,834,0,0,0,0,0,0,373,399,0,942,960,592,0,940,0,959,572,0,0,0,696,0,56,0,0,0,404,0,0,0,991,0,0,0,821,0,367,746,429,0,0,0,666,657,695,832,0,695,0,664,0,0,0,653,0,716,0,0,166,0,0,0,0,482,139,0,0,690,154,0,0,0,324,481,777,603,0,0,611,0,12,772,926,0,0,0,0,0,422,751,0,0,374,915,487,0,966,0,464,0,624,136,0,0,413,382,867,0,807,0,417,0,642,0,0,811,0,0,0,980,491,440,0,347,491,867,0,965,0,0,226,0,486,719,0,0,83,0,0,32,873,0,157,0,0,0,0,509,553,0,580,473,163,0,0,553,315,0,633,305,197,304,166,337,0,0,0,772,657,119,632,0,0,0,891,724,168,0,3,0,625,0,199,222,869,0,971,42,0,0,774,0,0,883,94,510,838,866,0,436,760,0,0,0,0,0,0,0,0,0,864,0,868,100,0,238,0,430,0,0,561,0,179,0,9,75,880,490,577,474,0,222,0,166,923,0,0,0,0,677,38,0,1000,0,0,0,920,0,556,0,0,0,0,814,23,924,216,0,682,0,673,558,0,0,0,0,0,0,147,0,0,0,0,366,0,966,0,137,922,870,103,0,0,0,778,0,907,0,460,913,700,0,0,213,371,67,171,0,0,0,199,0,793,0,0,143,0,0,0,0,635,547,628,305,488,477,0,0,0,0,0,0,0,0,853,0,0,0,802,481,667,645,0,934,581,0,443,0,311,881,51,0,0,0,880,7,0,431,909,0,271,0,0,0,0,0,0,670,968,54,904,947,0,0,562,0,74,0,0,180,536,0,0,0,0,777,0,436,0,0,837,717,23,0,0,134,0,0,381,975,453,764,392,429,656,0,0,0,64,188,824,0,237,0,0,211,0,0,90,543,0,0,140,0,995,0,0,438,0,997,436,0,924,56,0,0,84,0,74,75,0,0,0,0,334,87,546,440,516,0,0,0,965,0,0,0,477,943,553,445,0,0,0,0,0,704,648,548,791,223,0,0,6,594,0,252,897,303,779,354,678,0,686,0,0,785,0,551,622,0,0,338,339,560,0,267,688,0,0,0,0,0,319,10,626,214,55,891,908,748,0,991,599,0,20,231,0,0,442,823,0,0,0,0,822,0,804,325,597,0,101,0,0,0,0,0,488,0,25,40,787,0,0,0,0,0,440,21,0,0,0,413,987,0,0,45,646,526,0,0,794,0,0,323,0,0,236,0,713,0,398,0,0,275,0,680,0,0,681,69,2,0,525,896,0,0,0,686,0,0,799,365,959,0,0,280,0,0,0,889,459,0,0,754,434,0,114,0,725,154,0,276,0,0,30,0,0,765,660,0,446,0,0,331,0,705,743,0,683,551,265,0,0,516,901,882,747,156,221,0,209,298,0,190,562,28,724,0,0,0,469,791,6,255,0,0,13,0,208,0,412,667,0,0,617,926,0,0,423,834,110,395,0,0,364,0,0,674,0,125,44,0,0,285,920,566,0,973,309,378,0,931,610,396,202,660,0,905,0,0,339,641,0,0,696,0,614,0,0,410,0,0,0,0,583,0,163,0,0,0,0,0,0,0,369,605,446,260,807,0,62,458,928,0,308,64,40,0,0,0,729,578,0,0,964,209,347,237,0,802,519,0,0,0,411,644,893,0,0,0,0,0,0,974,0,0,0,0,83,0,0,736,0,0,574,241,0,0,587,0,188,451,0,341,0,0,0,0,581,89,0,984,0,305,28,0,0,49,948,0,170,292,0,706,0,884,670,0,0,980,796,0,0,0,0,0,249,0,879,0,466,559,656,0,861,0,481,540,0,511,748,0,509,0,0,498,191,744,352,868,0,0,693,0,63,783,0,874,0,0,0,528,779,23,0,319,838,550,558,0,0,120,0,0,0,0,571,364,0,316,0,83,0,0,899,745,0,0,0,0,744,0,332,0,0,0,71,996,266,0,810,334,0,610,44,142,0,695,501,870,0,0,0,0,660,955,0,0,0,672,0,0,398,0,0,0,0,425,491,529,451,283,0,0,0,0,0,0,124,0,0,932,0,492,0,0,661,0,0,272,0,0,541,0,686,0,84,0,0,0,602,788,0,329,546,0,0,363,0,979,0,0,771,476,459,165,172,0,779,660,662,0,860,0,190,0,551,882,0,490,191,637,62,227,61,0,0,387,456,120,0,0,0,679,176,471,324,587,0,979,0,91,441,897,371,0,133,0,401,222,0,507,569,924,0,0,871,688,951,666,875,0,0,110,0,6,157,0,424,0,0,837,508,538,857,0,0,901,0,330,0,0,602,0,0,517,0,725,0,0,0,387,0,0,0,0,0,0,893,0,703,805,425,372,191,143,0,278,0,671,815,286,62,801,0,255,41,736,0,0,0,0,0,0,471,0,319,0,398,440,0,810,570,0,0,117,0,0,29,0,228,25,0,0,804,85,0,820,232,0,907,225,695,0,795,0,271,0,0,981,122,0,87,0,721,831,0,401,930,329,869,0,612,0,0,0,717,486,763,0,897,865,0,670,0,67,0,0,948,683,743,432,0,0,217,0,0,943,0,0,833,512,0,984,44,855,834,857,124,0,0,521,660,0,221,816,0,0,515,0,0,144,0,675,448,354,205,524,682,0,0,726,0,0,0,883,0,156,880,439,920,373,0,0,575,0,383,0,0,732,0,0,0,0,702,467,0,0,419,0,0,858,0,328,0,616,0,452,0,362,0,0,229,0,0,0,0,335,615,0,479,0,0,0,280,723,0,0,0,910,0,175,579,887,766,0,34,534,0,0,0,0,0,62,0,0,0,0,598,507,56,452,0,616,0,0,0,0,673,737,217,684,0,577,0,0,0,867,711,0,0,0,0,0,194,0,961,0,0,0,503,397,466,753,0,0,398,300,0,47,0,0,60,401,0,529,402,370,205,439,0,0,0,108,0,0,390,0,679,878,140,0,0,0,237,0,0,333,0,497,0,41,684,0,11,0,0,0,969,0,0,0,250,0,829,0,821,803,675,0,823,0,81,306,9,462,707,0,0,691,921,0,0,0,979,0,0,0,659,0,0,0,48,774,422,0,0,0,110,0,0,0,980,72,596,61,0,476,124,0,329,0,3,0,0,616,0,848,0,0,339,0,0,275,0,0,0,0,740,0,0,800,816,480,0,894,0,0,533,790,597,937,200,0,564,179,447,564,0,0,430,367,0,887,0,408,661,0,703,0,719,601,0,193,652,58,981,990,644,0,702,700,811,314,0,0,0,0,0,84,0,0,0,149,0,0,0,0,952,0,0,0,869,32,645,0,743,0,0,0,906,565,927,926,546,0,0,205,0,78,0,0,727,757,0,35,760,658,706,768,691,0,0,0,0,766,766,0,0,0,893,756,0,749,70,0,0,58,0,251,0,854,279,840,0,0,438,0,0,0,249,0,546,0,363,0,693,0,0,0,202,0,0,169,0,0,0,0,431,0,662,0,0,44,0,973,0,0,244,0,319,276,927,133,527,0,866,377,106,0,346,351,56,0,491,902,0,909,730,744,0,807,839,0,634,799,0,645,0,0,19,60,0,0,890,0,0,366,850,0,0,0,0,668,54,0,409,0,0,0,506,515,0,753,846,792,0,715,0,710,0,0,0,0,682,0,0,793,0,0,0,0,0,0,0,0,0,923,278,92,0,988,0,869,686,278,0,0,0,15,0,495,0,0,0,0,121,173,0,525,0,413,175,919,891,0,0,0,58,573,216,883,0,312,988,0,353,0,0,0,0,0,523,0,0,0,254,0,444,0,0,0,523,0,0,0,0,554,404,0,399,0,650,0,701,0,0,311,0,127,200,0,311,106,966,33,642,356,275,777,1,0,967,0,691,0,317,0,0,0,999,676,481,988,0,0,0,0,742,0,0,969,0,502,0,0,0,125,291,0,0,164,495,0,0,178,865,822,0,0,0,0,0,913,0,400,955,0,0,0,0,499,658,363,702,521,882,0,0,0,173,880,0,0,0,288,302,639,0,0,0,0,137,0,648,0,462,0,0,976,662,0,0,0,0,0,0,0,0,0,0,0,925,857,0,386,738,0,0,0,0,0,0,890,385,430,525,0,496,0,0,248,0,735,0,0,0,0,212,479,0,0,0,559,401,283,406,292,0,427,57,65,312,0,0,791,195,0,678,198,379,1000,793,211,0,0,381,656,0,0,920,0,0,616,0,713,269,908,0,11,282,0,0,364,658,24,880,0,0,371,0,0,188,0,458,693,0,70,0,524,246,674,380,0,0,0,0,885,0,900,871,484,0,0,0,0,0,0,234,409,0,0,0,569,0,611,0,0,433,0,60,0,0,0,888,657,0,0,453,0,463,208,96,339,870,0,0,763,319,747,884,435,0,1,0,0,0,586,0,558,0,763,0,842,0,120,0,0,0,295,448,0,427,0,743,529,0,982,388,230,0,895,165,516,0,556,0,0,306,0,0,0,873,0,0,0,0,705,853,605,0,416,0,0,0,0,902,909,601,589,362,0,458,0,981,0,0,0,0,0,0,683,0,0,457,0,84,660,370,103,0,538,63,122,0,540,8,805,0,873,0,0,909,996,301,845,816,0,985,840,0,0,0,524,0,864,972,0,0,132,383,870,81,0,0,0,0,480,624,135,0,284,374,0,169,216,0,705,0,261,0,0,168,0,0,159,67,742,265,0,870,0,0,0,0,5,0,0,0,93,0,0,0,0,0,0,0,179,459,902,0,692,0,0,0,428,561,61,284,0,0,0,0,0,0,607,597,784,0,0,639,0,0,0,0,840,963,0,0,323,159,308,616,0,334,0,61,0,516,389,0,0,0,0,108,134,0,0,229,0,0,374,0,0,0,0,772,0,3,418,472,384,415,0,68,887,0,0,0,277,0,346,637,273,0,0,0,0,732,0,0,0,483,0,645,0,0,0,0,867,850,0,776,947,93,151,0,278,0,390,25,175,0,0,131,0,0,62,0,0,0,0,70,957,122,0,31,0,275,0,0,179,0,827,892,755,457,268,438,414,0,499,0,57,0,0,349,127,623,0,132,0,316,761,0,0,441,0,479,768,868,0,408,0,0,0,336,0,0,0,0,422,319,0,0,75,421,845,0,0,0,0,0,85,0,974,182,735,0,326,0,0,0,333,607,0,0,135,67,0,342,0,0,680,0,209,378,10,0,0,877,171,0,801,0,0,0,0,0,0,165,0,17,0,177,0,0,650,936,985,860,455,0,0,438,0,317,0,91,0,0,395,954,695,277,0,866,0,481,674,0,0,511,0,0,715,891,503,0,76,445,674,0,0,974,0,0,0,0,0,53,508,0,0,613,0,0,0,0,0,463,106,541,76,50,0,0,0,292,776,0,922,0,0,0,0,531,61,0,0,245,410,543,137,0,0,939,0,0,0,0,0,0,0,819,0,876,557,390,0,0,560,816,132,0,0,724,0,0,0,0,565,0,0,0,299,762,830,482,0,0,0,460,0,153,429,0,0,582,156,0,0,0,0,546,0,0,204,0,0,866,497,0,0,0,893,500,560,0,0,0,44,0,0,546,483,131,0,249,583,0,0,0,380,0,244,732,0,0,708,799,0,138,0,994,251,893,0,238,724,0,0,368,0,0,869,665,0,0,0,800,0,245,876,0,0,0,0,50,0,0,338,833,176,0,0,0,90,0,121,368,0,0,251,309,399,341,979,0,581,628,0,0,207,0,0,0,237,448,0,658,392,0,0,0,0,282,795,522,0,0,861,734,0,0,0,0,0,356,0,449,0,0,251,0,157,128,0,631,408,0,912,806,0,0,0,584,0,422,0,642,2,868,0,0,0,0,0,0,0,161,0,0,0,134,0,0,0,0,420,674,0,0,957,749,0,890,648,0,0,427,0,0,952,0,845,0,319,0,0,0,0,279,0,74,0,401,764,703,0,228,0,514,0,0,265,0,559,0,0,0,0,701,0,0,0,368,626,0,0,0,59,364,816,0,216,283,0,337,0,707,0,228,0,0,0,606,369,563,0,0,0,447,0,681,132,0,0,0,109,472,0,0,492,0,0,0,762,310,0,325,0,0,0,0,0,0,0,940,0,438,0,940,114,0,238,42,0,816,831,370,836,0,714,0,0,0,0,554,0,0,141,0,974,0,480,507,51,0,0,0,0,474,0,0,0,0,0,216,359,0,686,0,814,111,0,0,606,31,108,661,251,877,0,0,823,0,0,0,0,0,0,0,638,708,0,0,0,0,0,0,175,388,693,0,997,0,987,0,0,0,0,893,0,532,741,0,0,358,594,249,0,567,0,437,0,0,999,0,0,596,0,577,859,287,567,0,0,25,567,26,8,0,379,903,0,0,798,29,837,0,0,102,39,0,0,430,0,141,48,0,0,253,0,0,0,859,0,0,0,737,0,0,742,0,982,0,0,962,929,57,540,894,178,709,0,112,788,0,0,0,307,444,0,0,841,0,537,484,0,138,0,0,0,0,0,751,897,589,981,0,970,498,0,595,0,663,193,995,35,448,609,0,0,0,0,771,553,280,0,0,0,0,909,890,865,0,594,0,0,0,0,156,434,0,173,0,0,0,915,275,0,501,0,772,237,0,0,313,0,0,0,0,0,0,0,702,108,405,232,761,76,610,0,0,0,752,782,0,484,0,426,0,466,394,927,586,474,0,688,827,0,678,0,961,0,69,169,0,0,588,0,673,969,0,0,0,143,97,951,0,253,730,368,0,0,0,0,0,0,0,0,0,990,455,0,0,0,706,114,0,0,81,551,538,58,0,0,0,0,398,0,149,8,134,851,43,0,335,0,0,0,0,0,0,958,852,0,0,593,49,650,383,22,0,550,628,0,0,0,557,0,0,649,0,134,0,922,992,311,0,147,0,935,814,0,0,752,617,0,0,715,929,0,0,928,0,854,128,425,23,0,0,0,0,299,624,150,93,0,164,155,0,97,0,0,0,22,608,449,0,432,397,0,34,0,64,555,0,0,150,297,0,0,508,125,900,0,432,0,0,36,479,209,0,0,0,72,826,315,0,404,0,0,0,0,0,0,0,0,39,0,939,0,0"
    subtotal = 156

    risultato = ex1(int_seq, subtotal)
    print(f'risultato: {risultato}')

    # get the end time
    et = time.time()

    # get the execution time
    elapsed_time = et - st
    final_res = elapsed_time * 1000
    print('Execution time:', final_res, 'milliseconds')
